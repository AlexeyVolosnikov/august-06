(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1868:(e,t,n)=>{Promise.resolve().then(n.bind(n,7246))},7246:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var l=n(5155),s=n(2115);let i={width:"40px",height:"40px"},r={width:"140px",height:"45px",backgrond:"unset",border:"1px solid #C4C4C4",borderRadius:"10px"},d={marginBottom:"8px",border:"1px solid grey",borderRadius:"8px",padding:"8px 12px"},a={marginTop:"45px",marginBottom:"45px"};function c(e){let{data:t,save:n,cancel:i}=e,[c,o]=(0,s.useState)({...t}),h=e=>{o({...c,[e.target.name]:e.target.value})};return(0,l.jsxs)("div",{style:a,children:[(0,l.jsx)("h3",{children:"Редактировать новость"}),(0,l.jsx)("input",{name:"name",placeholder:"Заголовок",value:c.name||"",style:d,onChange:h}),(0,l.jsx)("input",{name:"content",placeholder:"Контент",style:d,value:c.content||"",onChange:h}),(0,l.jsx)("button",{style:r,onClick:()=>n(c),children:"Сохранить"}),(0,l.jsx)("button",{style:r,onClick:i,children:"Отмена"})]})}let o={marginTop:"45px",marginBottom:"45px"};function h(e){let{save:t,cancel:n}=e,[i,a]=(0,s.useState)({name:"",content:""}),c=e=>{a({...i,[e.target.name]:e.target.value})};return(0,l.jsxs)("div",{style:o,children:[(0,l.jsx)("h3",{children:"Добавить новость"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{name:"name",placeholder:"Заголовок",value:i.name,style:d,onChange:c}),(0,l.jsx)("input",{name:"content",placeholder:"Контент",value:i.content,style:d,onChange:c})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{style:r,onClick:()=>t(i),children:"Добавить"}),(0,l.jsx)("button",{style:r,onClick:n,children:"Отмена"})]})]})}let x={marginTop:"20px"};function u(e){let{isBusy:t,news:n,deleteNews:d,addNews:a,editNews:o}=e,[u,j]=(0,s.useState)(null),[p,g]=(0,s.useState)(!1);return t?(0,l.jsx)(l.Fragment,{children:"Loading..."}):(0,l.jsxs)(l.Fragment,{children:[u&&(0,l.jsx)(c,{data:u,save:e=>{o(e),j(null)},cancel:()=>{j(null)}}),p&&(0,l.jsx)(h,{save:e=>{a(e),g(!1)},cancel:()=>g(!1)}),(0,l.jsx)("button",{style:r,onClick:()=>g(!0),children:"Добавить новость"}),(0,l.jsxs)("table",{border:1,cellPadding:10,style:x,children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Заголовок"}),(0,l.jsx)("th",{children:"Контент"}),(0,l.jsx)("th",{children:"Действия"})]})}),(0,l.jsxs)("tbody",{children:[n.length<1&&(0,l.jsx)("tr",{children:"No news found"}),n.length>0&&n.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.name}),(0,l.jsx)("td",{children:e.content}),(0,l.jsxs)("td",{children:[(0,l.jsx)("button",{style:i,onClick:()=>{j(e)},children:"✏️"}),(0,l.jsx)("button",{style:i,onClick:()=>d(e),children:"\uD83D\uDDD1"})]})]},e.id))]})]})]})}let j="news_items";function p(){let[e,t]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=localStorage.getItem(j);e&&t(JSON.parse(e)),i(!1)},[]),(0,s.useEffect)(()=>{localStorage.setItem(j,JSON.stringify(e))},[e]),(0,l.jsxs)("div",{style:{padding:"20px"},children:[(0,l.jsx)("h1",{children:"Новости"}),(0,l.jsx)(u,{isBusy:n,news:e,addNews:n=>{let l=Date.now();t([...e,{...n,id:l}])},editNews:n=>{t(e.map(e=>e.id===n.id?n:e))},deleteNews:n=>{t(e.filter(e=>e.id!==n.id))}})]})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=1868)),_N_E=e.O()}]);